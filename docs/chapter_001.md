# 编程高手
## 第1章 接口之争
    
海市格美公司办公室，郭竞正在聚精汇神地编制着项目甘特图。他从早上来公司，到现在已经两个多小时了。因为项目紧，团队弱，领导又要求今天上午交出计划，他必须以最快的速度完成。可不巧的是，微信虽在静音状态，却来了两次语音呼叫了。这两次，都是许丽敏呼来的。他都很礼貌地回一句：“抱歉，现在很忙，稍候！”看样子，对方真的是有急事，也真的是等急了。
    
许丽敏可是郭竞目前一位相当要好的好友。她家乡是东北辽源，南开的高材生。一个年纪已经35岁的孩子妈妈，从外表看，俨然是一个未婚少女。不仅仅是外表的美丽，作为一个计算机专业的高材生，她还练就了一套带团队的本领。她所带的团队，人人都能按时完成工作任务，按时完成学习任务，如果不能完成，则志愿留下来加班。自从许丽敏进了这家公司，一年多时间，团队从原来的10余人，增长到了50余人。并且，产值从原来的200多万增长到了2000多万。这可是让郭竞完全刮目相看的。
    
郭竞是在两年前在一次创业活动中与她认识的。因为，都是技术人，两人见面，竟然相见很晚。虽然许丽敏在现在的公司干出了这么高的业绩，但是，公司承诺的股份期权之类的并没有兑现。监于这一点，郭竞跟她约定不久的将来一起创业。在郭竞眼中，她就是一个女神。所以，不敢得罪。
    
中午一小时吃饭，别人12点不到就冲出了办公室。而他却在12:30才把计划交给了老板。下楼匆匆吃了一点，午休时间肯定是没有了。吃完上楼，刚出电梯，就听见办公室吵吵闹闹。原来是移动端的开发人员正在与服务器端的接口开发的主程激烈争吵。原因很简单，现在项目工期相当紧张，而服务器端总把逻辑仍给移动端，给他们带来了相当大的压力。
    
郭竞随即把双方都叫进了会议室。曾经在多家公司担任过CTO的郭竞深知，先让有怨气的发泄一下。待大家的情绪都从顶端平息下来后，他轻描淡写地说道，这样吧，这个接口我来改，保证提供你们所要的数据。
    
这是一个什么样的问题呢?移动端开发的是一个具有考勤功能的APP。因为需要用月历显示，所以希望能有全月历的数据。而后端主程就是只给实际发生的数据。
    
大公司的技术总监是不可能写代码的，郭竞清楚目前这个小公司的团队情况。再有一点，他所以做这样的决定，那是因为他曾经看过安卓以及iOS的所有开源日历组件。用他的话说，这些代码全很垃圾，不堪入目。因为，根本没有一个把月历数据处理进行分层独立写成类的代码。抽象计算与业务逻辑相混的代码都是新手写的。这样的代码不可能拿来就用的，修改也是极其痛苦的。
    
其实，软件行业各类分层思想的组件已是相当多了。比如：JQuery，就是一个典型的Dom抽像层。但是，因为现在分工过细，从而移动端不会有人有机会了解这些思想。郭竞曾梦想，如果有人资助他做开源，他会做出很多优秀的开源。比如把JQuery思想用到安卓端就是一个。
    
散会以后，郭竞忙完手上的事情，打开项目，发现跟他预想的没错，因为后端是用的PHP开发的，且是采用的Laravel框架，如果能熟练使用Carbon,100行多一点的代码就能解决，所以，在服务器端，最多也是两三小时的事。放到移动端，肯定以天来计算。
    
他清楚，主程不愿做，主要有以下的原因，Carbon不熟悉，这是第一主要原因。其次，对程序的分层是否有意识也是一重要因素。当然，他自然没有理由强制现在的九零后小伙伴都能跟他一样，懂得很多编程语言。
    
很明显，郭竞对编程语言的懂，并不是简单的层次。比如，他喜欢LISP的分层结构模式，以及scheme。他欣喜，他现在的分层思想就是源于LISP。并且现在他也打算这么做。
    
其次，因为他喜欢泡github，所以，他早就了解了Carbon.
    
这一刻，他在项目app/lib目录新建了一个子目录 calendar,然后，创建了一个类，MonthData，不到半小时，一个能统一返回42天的代码已经完成。接下来就是如何集成的问题了。
    
也许你会问，为何返回42天月历数据呢?因为，月历中，每个月的数据最少跨度是4周，如果2月1日正好是周日，那么，月历4行就够了。但不管大小月，如果遇上1日是周六，则此月必定是6行。郭竞所写的统一返回42天6行，并不影响功能使用，还使移动端逻辑进一步简化，所以，这才是真正的高手。
    
其实，像他这样一个久经沙场的高手，他也只不过是把以前用过的重写一遍。如果你是一个编程高手，你定会发现，他这么做，首先是把抽像的计算层进行了分层处理。这么做，类名MonthData名副其实，同时，后续有需要，它也是公用的。
    
临下班，郭竞已完成了这一接口的改进。并写上了说明注解：
    
通过参数模板初始化月历数据，再写入当月数据后返回总是为6行的月历数据。
    
但他心中仍若有所失的是，小伙伴们几乎不了解其代码的优劣。也许，高手都是孤独的。
    
然后，他叫来他的同事，详细讲解了程序为什么要这样写，他说道：
    
“月历的数据输出我帮助你写完了，你如果感兴趣，我可以给你讲解一下。”
    
“愿意受教”同事看来不太情愿。
    
“是这样的。第一点，PHP中有一个非常好的开源，专门用来处理日期与时间的，名为：Carbon。这个开源就和JAVA中的JODA一样有名。因为，有了它，要处理日期与时间时，几乎只要一两行代码就可以解决。并且，支持链式操作。所以，一行代码，你可以连续把你要做的全部做完。其次，现在的实现，实际上就是把月历数据算法做一个封装。为什么要单独封装成一个类呢？实际上，这就和我们的架构思想有关了。程序应当怎样写？最好的方法是，把抽象的计算层与实际业务层分开。表面上，我们平常混在一起写也没有什么。但是，如果程序中其它地方有需要时，你可能会考虑重构，并给封装了。但到这那一步才考虑到，这样的做法并不好。表面上，开发速度可能会快，但未来程序维护的难度肯定没有现在这样的结构好。主要原因是代码的易读性，一个函数代码行数的多少。其实，要做到这一点并不难。我们在写代码之前，只要考虑一下，这段代码中，有没有可以扩展编程语言的，把自己当成一个编程语方的发明人，那么，你的代码就可以上一个台阶了。”
    
“好的。”
    
这一声好的，让郭竞觉得，今天不该教他。
    
18:00悄悄来临，小伙伴们都在项目管理系统中提交了工作汇报，有说有笑地冲出了办公室。而这时，郭竞的电话响了。来电显示“许丽敏”。
    
郭竞拿着手机，冲到楼梯间，说了多个对不起，对方仍是命令般地强势。在了解了大概的情况以后，郭竞直接开车来到了许丽敏的公司。
    
原来，昨天，许丽敏团队开掉了一个新人。由于手下疏忽，没有及时更改GIT的帐号。正好今天发布，偏巧遇上持续集成通过不了。团队所有小伙伴都说，未做过任何修改。但问题是，编译无错，单元测试就是过不了。许丽敏因此也受到了老板的严厉批评。原本想上午搬一下救兵，可偏偏遇上郭竞今天一天都非常地忙。由此，原计划本周发布的功能，只能延期。
    
郭竞了解到这个情况以后，便说，应当不难，可以查一下提交记录。许丽敏这才露出了笑容，对郭竞说，我GIT正好开着，你就用我笔记本吧。然后，奔向吧台，去煮咖啡了。
    
“就是你现在打开的这个项目吗?”
    
“是的，没错！”
    
郭竞打开git命令行，键入：
    
git log –p
    
于是，提交记录显示了出来。通过提交时间，发现，前面5个都是今天上午10点以前提交的。于是，他又问，“Master分支是什么时间合并的？”
    
许丽敏端首香喷喷的咖啡走了过来，轻轻放在郭竞的左手边，“今天上午，九点半完成的”。
    
郭竞继续往下寻找，终于发现，昨晚17:07有一次提交。“昨晚加班到几点？”
    
“这几天都不加班了，本阶段还剩下最后两周，实际只剩下一周的任务了。”
    
“那这个提交有问题！”
    
郭竞于是打开了这个InputStream.h文件。确认了一下，然后问道：
    
“单元测试结果是：收不到，也发不出，对吧？”
    
“对呀”许丽敏眼中放光了。在许丽敏心目中，郭竞就是一个地道的高手，相当年，她写代码时，能够解决她的问题，她的疑问的，全是男神。
    
“你得要有一个好的技术助手了，帮你管好代码！”郭竞说。
    
“等你来呀！告诉我，是怎么回事？”
    
“是你那小伙伴临走前又把代码提交了一遍，这肯定是按你手下的要求。但这个提交，则是将本地调试版本未做清理，直接提交了！”
    
“你看这几行：”
    
//Only for debug
    
\#define TRUE FALSE
    
“Oh,My God！”许丽敏惊讶道。
    
“这样吧，现在也不早了，今天我妈在，孩子不用我管，我请你共进晚餐，如何？”许丽敏仍旧是眼神放光，难掩她对郭竞的钦佩。
    
“好吧，恭敬不如从命！”
    
附近就是一家小南国。郭竞跟着他步行进了这家店。
    
许丽敏说，“今天不问你吃什么了。我凭我的猜测，然后再来两瓶你喜欢的黄酒！”
    
“别开玩笑，还要开车回家呢！”
    
“不开玩笑，想回去找代驾，要么打的！”
    
虽然两人认识两年多，但是，一起喝酒，却是第一次。酒一上头，双方都丢了设防，酒后吐真言!
    
原来，许丽敏父母均是乡村的中学教师。而他爱人可是高管高知家庭。他爱人公司办得红红火火，但却不让她去当老板娘。似乎这种层次上的隔阂，她在家中并不比外人强多少。
    
而郭竞则聊起了他如何在下岗前从工厂辞职，打工时，如何BASIC程序学起，再慢慢做到这种不起眼的技术总监的过程。这个过程，在许丽敏听起来，就像是一个神话故事，一个传奇，她原本以为郭竞至少也是一个博士学位，却没想到，只是一个计算机的本科。并且，还是分两次读的继续教育文凭。一次拿的大专，一次拿的本科。
    
郭竞借着酒劲，突然想到，何不借此机会，向这个牛人讨教一些诀窍。于是，开口问道：“许总，能否给我讲讲你是怎么管理团队的呢？”
    
“不许这样称呼。再这么叫，咱样就不是朋友了！”
    
“那这样，许老师给学生讲一下团队管理，谢谢了！”
    
“这还差不多。要说管理，我还真有我自己的一套。首先，透露一下，我可是计算机与人力资源双学士。不过，你别看我大学学过人力资源，其实，很多理论的东西，在我们这个层次，也就是在实操层面上，没有多少指导价值。当然，也不能说绝对没有用。比如，心理学的东西就相当好用。首先，我觉得管理人员多少要懂得一些消费心理学，营销心理学。”
    
“其实，在管理方面，我最佩服的是一个人，你可能想不到！”
    
“是谁呢？”
    
“撒切尔夫人。”
    
“哦？”
    
“没想到吧？撒切尔夫人，说白了，在当今九零后心目中可能是一个铁女人。其实呢，他们真地对她了解多少？多数还不是来自新闻报道。我其实只是崇拜她的管理能力，对于其它的，我觉得，她就是我们平常心目中的政客而已。不用多说，看人吗，只要看长处就行了。”
    
“那你觉得，你是比较了解她的？”
    
“是呀，不妨举个例子。她刚刚上台时，先是重新颁布了工会法案，提高劳动保障，提升工人福利。一下子，全国的老百姓对她是非常爱戴。而对于资本家则叫苦不叠。道理相当简单吧？可在老百姓的欢呼声还没有平息，她一下子又颁布了游行法案。明确规定，只是要游行，罢工，集会都要预先进行登记。你说这一着狠不狠？而就是这一着，一下子解决了当时英国多年的罢工问题。这个例子中，不仅包括管理学，其次还包括心理学。就好象我们平常哄小孩子，小孩子总是无理取闹，闹得不行时，你跟他喊 ，跟他叫，甚致打他，他还是闹。而她的方法是，小孩想要的东西不是很多吗？挑一个你最想要的，比如，糖果，或者玩具，于是，小孩子开心了，不闹了。然后接下来，找个绳子，再皅他扣起来。”
    
“真没想到，你对她这么了解。”
    
“一般般吧。我可不想现在的九零后那样崇拜。你看，前些日子她去世时，网上铺天盖地，全是她的消息。我不得不说，这属于现代教育的一大悲哀。”
    
“因为没有在意邵逸夫，是吧？”
    
“是呀！你想想，撒切尔夫人是谁呀？一个曾经在英国当过首相的人。跟你们九零后有多大关系？想想邵逸夫吧？在中国有多少所大学，这些大学中，又有多少座逸夫楼，逸夫图书馆？中国有多少家医院？多少家医院里有逸夫楼？九零后没有人为邵逸夫流泪。而是在疯狂转发撒切尔夫人去世的消息。”
    
“看来你肯定为邵逸夫流泪了？”
    
“我也没有流泪，不过，心里确实挺难过的。而且，我没有转发半条撒切尔夫人的消息。尽管她是我的管理学之神！”
    
“那还是具体的说说你是怎样带团队的吧。”
    
“其实，刚刚我已教了你一招了。关键看你会不会用了！”
    
“对哦，我好象太笨了！”
    
“简单来说，当我来到这家公司时，首先是申请了三个月的熟悉期。我说，最多三个月，并且，必须是要给我一定的时间，让我能和大家打成一片。而且，我敢保证，肯定是在三个月之内动手。后续的两个月，在我的主导下，换掉了三分之一的人。这些人，肯定就是无法进入创业状态，说白了，也就是一辈子的码农。大约四十五天下来，我开始结合公司的情况，编制公司的规章制度。我想，你应当猜得出来，我先处理的是哪些制度！”
    
“福利方面的吧？”
    
“聪明！我先将原来像法律一样的考勤制度，变成了一个的福利说明。同时，我先着重处理了《优秀代码评选制度》，《优秀项目评选制度》，《优秀设计评选制度》，《优秀产品评选制度》，《优秀员工评选制度》这五大优秀评选。然后，我就去找CEO，我说，我们先重新颁布一批制度吧。CEO听了我的想法，非常开心。确定了颁布的日期，开会颁布。会议上要求，每一个人可以用电子邮件，提出自己的想法。当然，这不是我第一次这么做了。于是呼，就有这么一帮人，提出来，这个评比制度不够细化，这个评比制度缺少考评依据。不外呼就是这些，肯定不会出于我们的意料之外。这样下来，通过与CEO，以及各项目组的老管理人员了解，什么人有管理意识，什么人关心管理，什么人不好管，一下子就更清楚了。”
    
“你好像做的是散切尔夫人工会法案的翻版。”郭竞称赞道。
    
“多谢夸奖。实际上，我是在给你讲解，有些心理学原理是比较通用的。后续，我们就是分为核心层，以及外围层，就像是伟大领袖毛主席的统一战线思想。所以，如果要真的学管理，我觉得，多读《毛泽东选集》，你肯定会有收获。这样，由核心层主动参与，带动外围层，逐步把项目管理，安全生产管理，绩效考核等三大关键规章制度制定完成了。因为是他们亲手定的。所以，他们愿意执行。”

聊得开心，在这过程中，许丽敏又要了两瓶黄酒，当郭竞一再说“不喝了，不喝了”的时候，却突然感到有点晕，这时间，却也突然间也发现许丽敏也是满脸通红！郭竞发现，此时的许丽敏异常美丽！
    
“你稍等！” 许丽敏说完，就走向了卫生间！
    
十分钟以后，许丽敏走了回来，一脸倦容。“不好意思，失态了！以及酒量很好的。”
    
“都知道你们东北人能喝！”
    
“你就别笑话了！服务员，买单！”
    
“这位先生已买过了！”
    
“什么？这位先生？你这是犯规，说好是我请你的！算了，走吧！”
    
许丽敏有些踉踉跄跄，直接把手搭在郭竞的肩上。
    
走到店外，郭竞说，“我帮你打车回家！”
    
“不用，我喝了酒，从来不回家的！再说了，明天的晨会，我们总经理要参加的，我得起早准备一下！要不这样吧，你带我去开房！”
    
“什么？”郭竞愕然！
    
“你都把饭钱付了，所以呢，也就顺便请你代我把房钱也付了吧。没要你干什么，你怕什么呀！”
    
“那好吧！”
    
“怎么了？你总不能就让我这样一个人自己走过去吧？”
    
“嗯，那是当然！走吧！”是不是高智商的，多少有些缺少情商，并不清楚，这里的郭竞却显得有些不知所措！
    
郭竞带着她，进了一家附近的四星级酒店。
    
“要个标准间。” 看样子，许丽敏还不算迷糊。
    
“好的，请出示身份证。”
    
“好的。”
    
“还有你的身份证！”
    
这是一个20多岁的披肩长发的小女孩服务员，她冲着郭竞说道。郭竞蒙了。
    
“不是！是这样的，大姐，我只是负责送她过来，并且负责付钱的！”
    
“那你要送她上去吗？”服务员责问道。
    
“是呀。”
    
“那就必须登记。” 服务员不依不饶。
    
“你是把我当成拐卖人口的，还是专骗良家女子的？”
    
“行了行了，我都不怕我老公，你还怕你老婆？不就登记一下吗？我看你就像是一个刚出土的几千年的古董。”许丽敏有些不耐烦。
    
郭竞心想，这都是什么逻辑。很不情愿地掏出了他的身份证。
    
登记完了，乘电梯上到五楼，郭竞好不容易在快到走廊的尽头找到了房间，正刷房卡，许丽敏说：“快，快扶我去卫生间”。
    
这时两人是全速前进，冲进卫生间，瞬间，飞流直下三千尺！起点是颜值超高的美女的口，终点是四星级酒店卫生间的高档马桶！于是，卫生间里，黄酒的香味加上胃酸的酸味弥漫开来。
    
郭竞打开排气扇，许丽敏还是洗脸潄口。完毕，晃晃悠悠地躺到了离卫生间最近的一张床上。郭竞说，“我先回去了。”
    
“不行”，这个回复相当直接，并且是非常迅速。
    
“为什么？要找医生吗？”
    
“不需要，但是还有第二场！你可以去那边躺一会儿！”这第一场已经够壮观的了。还有第二场，加上在饭店那一场，下一场应当算是第三场了，而不是第二场。看来她是挖好了坑让我往里跳呀。不是吗？进门就要标间。敢情一个血气方刚的男儿，深更半夜跟一个形意气声都近乎完美的美女独处在一家四星级酒店的房间，这几乎可以算是一种虐待。
    
突然，回过神来，这肯定有什么不对劲，一个人什么情况下最易醉酒？心里有事的时候，并且，应当不是小事，那她到底是怎么了？
    
可就在这时，电话响了。来电显示是他老婆。他只好躲进卫生间，开始接听
    
“唉，你大概几点回来？你女儿有一个机器人比赛的报名表需要你填定一下！”
    
“哦，好的。刚刚陪同事喝酒，刚刚出饭店，过一会就回来！”
    
半小时过去以后，电话又响了。“唉，你要是酒喝多了，就不要开车了，打车回来吧！”
    
“好的，好的！我就在等出租呢！”许丽敏的第二场最终没有等到！但她的醉酒却压上了郭竞的心头。


[上一章](https://github.com/BardoQi/CodeGuru/blob/master/docs/chapter_000.md  "下一章")
[目录](https://github.com/BardoQi/CodeGuru  "目录")
[下一章](https://github.com/BardoQi/CodeGuru/blob/master/docs/chapter_002.md  "下一章")
